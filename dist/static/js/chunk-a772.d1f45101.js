(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a772"],{"7Bg7":function(e,t,n){"use strict";n.r(t);var i=n("bS4n"),a=n.n(i),o=n("6ZY3"),s=n.n(o),l={name:"SysDomain",filters:{dialogTitle:function(e){return e?"添加域名":"编辑域名"}},data:function(){return{filterForm:{enabled:1,pageNo:1,pageSize:10},list:null,listLoading:!1,listTotal:0,sysDomain:{domain:null,enabled:1,note:null},sysDomainRules:{domain:[{required:!0,trigger:"blur",message:"必填项"}]},dialogNewOrEditVisible:!1,newFlag:!0,saveBtnLoading:!1}},mounted:function(){this.query()},methods:{query:function(){var e=this;this.listLoading=!0,this.$store.dispatch("ListSysDomainByQry",this.filterForm).then(function(t){e.list=t.data,e.listTotal=t.totalCount,e.listLoading=!1}).catch(function(){e.listLoading=!1})},showNewPage:function(){this.newFlag=!0,this.resetForm(),this.sysDomain={domain:null,enabled:1,note:null},this.dialogNewOrEditVisible=!0},showEditPage:function(e){this.newFlag=!1,this.sysDomain=s()({},e),this.dialogNewOrEditVisible=!0},saveSysDomain:function(){var e=this;this.$refs.sysDomainForm.validate(function(t){t&&e.$confirm("是否确定保存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){e.saveBtnLoading=!0,e.$store.dispatch(e.newFlag?"SaveSysDomain":"UpdateSysDomain",e.sysDomain).then(function(t){e.saveBtnLoading=!1,e.dialogNewOrEditVisible=!1,e.$message({message:t.msg,type:"success"}),e.query()}).catch(function(){e.saveBtnLoading=!1})})})},disabledAction:function(e){var t=this;0===e.enabled?this.$confirm("此操作将禁用该域名，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.updateAction(e)}).catch(function(){e.enabled=1}):this.updateAction(e)},removeData:function(e){var t=this;this.$confirm("是否确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.updateAction(a()({},e,{isDel:1}))})},updateAction:function(e){var t=this;this.listLoading=!0,this.$store.dispatch("UpdateSysDomain",e).then(function(e){t.$message({message:e.msg,type:"success"}),t.listLoading=!1,t.query()}).catch(function(){t.listLoading=!1})},resetForm:function(){this.$refs.sysDomainForm&&this.$refs.sysDomainForm.clearValidate()},handleSizeChange:function(e){this.filterForm.pageSize=e,this.query()},handleCurrentChange:function(e){this.filterForm.pageNo=e,this.query()}}},r=(n("wDI6"),n("ZrdR")),c=Object(r.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-form",{ref:"filterForm",attrs:{inline:!0,size:"mini"}},[n("el-form-item",[n("el-form-item",{attrs:{label:"状态"}},[n("el-select",{attrs:{clearable:""},model:{value:e.filterForm.enabled,callback:function(t){e.$set(e.filterForm,"enabled",t)},expression:"filterForm.enabled"}},[n("el-option",{key:"0",attrs:{value:1,label:"启用"}}),e._v(" "),n("el-option",{key:"1",attrs:{value:0,label:"禁用"}})],1)],1),e._v(" "),n("el-button",{staticClass:"btn-form",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")]),e._v(" "),n("el-button",{staticClass:"btn-form",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.showNewPage}},[e._v("新加域名")])],1)],1)],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,size:"mini",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"域名ID",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.id)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"域名","min-width":"280px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.domain)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.note)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"禁用|启用"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(n){e.disabledAction(t.row)}},model:{value:t.row.enabled,callback:function(n){e.$set(t.row,"enabled",n)},expression:"scope.row.enabled"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.createTime)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"管理操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{icon:"el-icon-edit",type:"text",size:"mini"},on:{click:function(n){e.showEditPage(t.row)}}},[e._v("编辑")]),e._v(" "),n("el-button",{staticStyle:{color:"red"},attrs:{icon:"el-icon-delete",type:"text",size:"mini"},on:{click:function(n){e.removeData(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{"current-page":e.filterForm.pageNo,"page-sizes":[10,20,30,50],"page-size":e.filterForm.pageSize,total:e.listTotal,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.$set(e.filterForm,"pageNo",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogNewOrEditVisible,title:e._f("dialogTitle")(e.newFlag),width:"600px"},on:{"update:visible":function(t){e.dialogNewOrEditVisible=t}}},[n("el-form",{ref:"sysDomainForm",attrs:{model:e.sysDomain,rules:e.sysDomainRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"域名",prop:"domain"}},[n("el-input",{model:{value:e.sysDomain.domain,callback:function(t){e.$set(e.sysDomain,"domain",t)},expression:"sysDomain.domain"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"启用状态",prop:"enabled"}},[n("el-radio-group",{model:{value:e.sysDomain.enabled,callback:function(t){e.$set(e.sysDomain,"enabled",t)},expression:"sysDomain.enabled"}},[n("el-radio",{attrs:{label:0}},[e._v("未启用")]),e._v(" "),n("el-radio",{attrs:{label:1}},[e._v("启用")])],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"说明",prop:"note"}},[n("el-input",{attrs:{row:4,type:"textarea"},model:{value:e.sysDomain.note,callback:function(t){e.$set(e.sysDomain,"note",t)},expression:"sysDomain.note"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogNewOrEditVisible=!1}}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{loading:e.saveBtnLoading,type:"primary"},on:{click:e.saveSysDomain}},[n("svg-icon",{staticStyle:{"margin-right":"5px"},attrs:{"icon-class":"save"}}),e._v("保存")],1)],1)],1)],1)},[],!1,null,"60b3b978",null);c.options.__file="index.vue";t.default=c.exports},S4Pp:function(e,t,n){},wDI6:function(e,t,n){"use strict";var i=n("S4Pp");n.n(i).a}}]);