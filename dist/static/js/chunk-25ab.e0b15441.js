(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-25ab"],{COAV:function(e,t,l){"use strict";l.r(t);var n=l("7Qib"),r={name:"PlayerListPage",filters:{getWinningMoney:function(e){return e.playersWinLoseVO?e.playersWinLoseVO.winningMoney:0},getFlowVolume:function(e){return e.playersWinLoseVO?e.playersWinLoseVO.bet:0},parseTime:function(e){return Object(n.c)(e)},moneyFilter:function(e){return e?(e/100).toFixed(2):(0).toFixed(2)},statusFilter:function(e){return"1970-01-01 00:00:00"===e?"success":"danger"},userStateFilter:function(e){return"1970-01-01 00:00:00"===e?"正常":"冻结"}},data:function(){return{filterForm:{playerTypes:["0","1"],playerId:null,showId:null,account:null,nickName:null,state:0,registBeginTime:null,registEndTime:null,loginBeginTime:null,loginEndTime:null,pageNo:1,pageSize:10},userStates:[{key:0,title:"全部"},{key:1,title:"正常"},{key:2,title:"冻结"}],list:null,listLoading:!1,listTotal:10}},created:function(){this.query()},methods:{query:function(){var e=this;this.listLoading=!0,this.$store.dispatch("ListPlayerAccountByQry",this.filterForm).then(function(t){e.list=t.data,e.listTotal=t.totalCount,e.listLoading=!1}).catch(function(){e.listLoading=!1})},giftMoney:function(e){var t=this;this.$confirm("是否确定赠送?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.$store.dispatch("GiftMoney",{userid:e.userid}).then(function(e){t.$message({message:e.msg,type:"success"}),t.query()})})},setSaleRate:function(e){var t=this;this.$prompt("请设定保底每万(0～200)","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(l){var n=l.value;if(0!==n&&(!n||n<0||n>200))return t.$message({message:"请输入合法的保底",type:"warning"}),!1;t.$store.dispatch("SetSaleRate",{userid:e.userid,saleRate:n/1e4}).then(function(e){t.$message({message:e.msg,type:"success"}),t.query()})})},setUpSpread:function(e){var t=this;this.$prompt("请输入上级代理ID(⚠️注意：原始ID)","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(l){var n=l.value;if(!n||isNaN(Number(n))||Number(n)<0)return t.$message({message:"请输入合法的上级代理ID",type:"warning"}),!1;t.$store.dispatch("SetUpSpread",{userid:e.userid,spreadUserId:n}).then(function(e){t.$message({message:e.msg,type:"success"}),t.query()})})},handleClick:function(e){var t=this.$store.state.user.roleId,l=this.$store.state.user.menus;1!==t?this.hasPermission(l,20101)&&this.$router.push({path:"/player/playerInfo",query:{playerId:e}}):this.$router.push({path:"/player/playerInfo",query:{playerId:e}})},handleSizeChange:function(e){this.filterForm.pageSize=e,this.query()},handleCurrentChange:function(e){this.filterForm.pageNo=e,this.query()},hasPermission:function(e,t){return!!e&&e.some(function(e){return e.menuid===t})}}},i=(l("j7E9"),l("ZrdR")),a=Object(i.a)(r,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-form",{ref:"filterForm",attrs:{inline:!0,model:e.filterForm,size:"mini"}},[l("el-form-item",{attrs:{label:"玩家类型"}},[l("el-checkbox-group",{model:{value:e.filterForm.playerTypes,callback:function(t){e.$set(e.filterForm,"playerTypes",t)},expression:"filterForm.playerTypes"}},[l("el-checkbox",{attrs:{label:"0"}},[e._v("普通玩家")]),e._v(" "),l("el-checkbox",{attrs:{label:"1"}},[e._v("代理玩家")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"原始ID"}},[l("el-input",{model:{value:e.filterForm.playerId,callback:function(t){e.$set(e.filterForm,"playerId",t)},expression:"filterForm.playerId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"玩家ID"}},[l("el-input",{model:{value:e.filterForm.showId,callback:function(t){e.$set(e.filterForm,"showId",t)},expression:"filterForm.showId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"玩家帐号"}},[l("el-input",{model:{value:e.filterForm.account,callback:function(t){e.$set(e.filterForm,"account",t)},expression:"filterForm.account"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"玩家昵称"}},[l("el-input",{model:{value:e.filterForm.nickName,callback:function(t){e.$set(e.filterForm,"nickName",t)},expression:"filterForm.nickName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"最后登录IP地址"}},[l("el-input",{model:{value:e.filterForm.lastLoginIp,callback:function(t){e.$set(e.filterForm,"lastLoginIp",t)},expression:"filterForm.lastLoginIp"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"用户状态"}},[l("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择",value:""},model:{value:e.filterForm.state,callback:function(t){e.$set(e.filterForm,"state",t)},expression:"filterForm.state"}},e._l(e.userStates,function(e){return l("el-option",{key:e.key,attrs:{label:e.title,value:e.key}})}))],1),e._v(" "),l("el-form-item",[l("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"注册开始日期"}},[l("el-date-picker",{attrs:{type:"date"},model:{value:e.filterForm.registBeginTime,callback:function(t){e.$set(e.filterForm,"registBeginTime",t)},expression:"filterForm.registBeginTime"}})],1),e._v(" "),l("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"注册结束日期"}},[l("el-date-picker",{attrs:{type:"date"},model:{value:e.filterForm.registEndTime,callback:function(t){e.$set(e.filterForm,"registEndTime",t)},expression:"filterForm.registEndTime"}})],1)],1),e._v(" "),l("el-form-item",[l("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"登录开始日期"}},[l("el-date-picker",{attrs:{type:"date"},model:{value:e.filterForm.loginBeginTime,callback:function(t){e.$set(e.filterForm,"loginBeginTime",t)},expression:"filterForm.loginBeginTime"}})],1),e._v(" "),l("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"登录结束日期"}},[l("el-date-picker",{attrs:{type:"date"},model:{value:e.filterForm.loginEndTime,callback:function(t){e.$set(e.filterForm,"loginEndTime",t)},expression:"filterForm.loginEndTime"}})],1)],1),e._v(" "),l("el-form-item",[l("el-button",{staticClass:"btn-form",attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")])],1)],1)],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,size:"mini",border:"",fit:"","highlight-current-row":""}},[l("el-table-column",{attrs:{align:"center",label:"玩家原始ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.userid)+"\n      ")]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"玩家昵称(玩家ID)"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{staticClass:"link-type",on:{click:function(l){e.handleClick(t.row.userid)}}},[e._v(e._s(t.row.nickName)+"("+e._s(t.row.showId)+")")])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"玩家帐号"}},[l("el-table-column",{attrs:{align:"center",label:"上级代理"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(11===t.row.account.length?t.row.account:"游客账号")),l("br"),e._v(" "),t.row.saler?[e._v("\n            "+e._s(t.row.agentNickname)+"("+e._s(t.row.saler)+")\n          ")]:e._e()]}}])})],1),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"身上金币"}},[l("el-table-column",{attrs:{align:"center",label:"银行金币"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("moneyFilter")(t.row.gold))),l("br"),e._v("\n          "+e._s(e._f("moneyFilter")(t.row.bankGold))+"\n        ")]}}])})],1),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"金币总数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("moneyFilter")(t.row.totalGold))+"\n      ")]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"用户状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tag",{attrs:{type:e._f("statusFilter")(t.row.lock)}},[e._v(e._s(e._f("userStateFilter")(t.row.lock)))])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"游戏信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        今日输赢:"+e._s(e._f("getWinningMoney")(t.row))),l("br"),e._v("\n        今日流水:"+e._s(e._f("getFlowVolume")(t.row))+"\n      ")]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"注册时间",align:"center"}},[l("el-table-column",{attrs:{label:"上次登录时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e._f("parseTime")(t.row.createTime)))]),l("br"),e._v(" "),l("span",[e._v(e._s(e._f("parseTime")(t.row.loginTime)))])]}}])})],1),e._v(" "),l("el-table-column",{attrs:{label:"上次登录IP",align:"center"}},[l("el-table-column",{attrs:{label:"归属地",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.ip))]),l("br"),e._v(" "),l("span",[e._v(e._s(t.row.ipAttr))])]}}])})],1),e._v(" "),l("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.sendGift?l("el-button",{attrs:{size:"mini"},on:{click:function(l){e.giftMoney(t.row)}}},[e._v("赠送礼金")]):e._e(),e._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:function(l){e.setUpSpread(t.row)}}},[e._v("设置上级代理")])]}}])})],1),e._v(" "),l("div",{staticClass:"pagination-container"},[l("el-pagination",{attrs:{"current-page":e.filterForm.pageNo,"page-sizes":[10,20,30,50],"page-size":e.filterForm.pageSize,total:e.listTotal,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},[],!1,null,"6d05ef13",null);a.options.__file="index.vue";t.default=a.exports},j7E9:function(e,t,l){"use strict";var n=l("lgeH");l.n(n).a},lgeH:function(e,t,l){}}]);