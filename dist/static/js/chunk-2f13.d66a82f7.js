(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2f13"],{"/+gn":function(t,e,o){"use strict";o.r(e);var r=o("bS4n"),a=o.n(r),i=o("7Qib"),n={name:"WithdrawOrderList",filters:{moneyFilter:function(t){return t?(t/100).toFixed(2):0},withdrawTypeTitle:function(t){switch(t){case 0:return"支付宝";case 1:return"人工提现";case 2:return"银行卡"}},withdrawStateColor:function(t){return 1===t?"info":2===t?"success":"danger"},withdrawStateTitle:function(t){return 0===t?"待处理":1===t?"已受理":2===t?"已打款":3===t?"已取消":"已退还"}},data:function(){return{filterForm:{showId:null,playerId:null,account:null,orderId:null,state:null,startTime:Object(i.d)(0),endTime:Object(i.a)(0),pageNo:1,pageSize:10},payTypes:[{code:0,title:"支付宝"},{code:1,title:"手工提现"},{code:2,title:"银行卡"}],states:[{state:0,title:"待处理"},{state:1,title:"已受理"},{state:2,title:"已打款"},{state:3,title:"已取消"}],list:null,listLoading:!1,listTotal:10}},created:function(){this.query()},methods:{query:function(){var t=this;this.listLoading=!0,this.$store.dispatch("ListWithdrawOrderByQry",this.filterForm).then(function(e){t.list=e.data,t.listTotal=e.totalCount,t.listLoading=!1}).catch(function(){t.listLoading=!1})},onCopy:function(t){this.$message({message:"已复制",type:"success"})},modify:function(t,e){var o=this;1===e?this.$confirm("此操作将受理订单，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){o.modifyAction(t,e)}):2===e?this.$confirm("此操作将发放款项，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){o.modifyAction(t,e)}):this.$prompt("此操作将取消订单, 请输入原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(r){var a=r.value;if(!a)return o.$message({message:"请输入原因",type:"error"}),!1;t.note=a,o.modifyAction(t,e)})},modifyAction:function(t,e){var o=this;this.$store.dispatch("UpdateWithdrawOrder",a()({},t,{state:e})).then(function(t){o.$message({type:"success",message:t.msg}),o.query()})},handleSizeChange:function(t){this.filterForm.pageSize=t,this.query()},handleCurrentChange:function(t){this.filterForm.pageNo=t,this.query()}}},l=(o("SHdH"),o("ZrdR")),s=Object(l.a)(n,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("div",{staticClass:"filter-container"},[o("el-form",{ref:"filterForm",attrs:{inline:!0,model:t.filterForm,size:"mini"}},[o("el-form-item",{attrs:{label:"提现方式"}},[o("el-radio-group",{model:{value:t.filterForm.withdrawType,callback:function(e){t.$set(t.filterForm,"withdrawType",e)},expression:"filterForm.withdrawType"}},t._l(t.payTypes,function(e){return o("el-radio-button",{key:"type_"+e.code,attrs:{label:e.code,value:e.code}},[t._v(t._s(e.title))])}))],1),t._v(" "),o("el-form-item",{attrs:{label:"玩家ID"}},[o("el-input",{model:{value:t.filterForm.showId,callback:function(e){t.$set(t.filterForm,"showId",e)},expression:"filterForm.showId"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"原始ID"}},[o("el-input",{model:{value:t.filterForm.playerId,callback:function(e){t.$set(t.filterForm,"playerId",e)},expression:"filterForm.playerId"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"玩家帐号"}},[o("el-input",{model:{value:t.filterForm.account,callback:function(e){t.$set(t.filterForm,"account",e)},expression:"filterForm.account"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"订单编号"}},[o("el-input",{model:{value:t.filterForm.orderId,callback:function(e){t.$set(t.filterForm,"orderId",e)},expression:"filterForm.orderId"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"状态"}},[o("el-radio-group",{model:{value:t.filterForm.state,callback:function(e){t.$set(t.filterForm,"state",e)},expression:"filterForm.state"}},t._l(t.states,function(e){return o("el-radio-button",{key:"state_"+e.state,attrs:{label:e.state,value:e.state}},[t._v(t._s(e.title))])}))],1),t._v(" "),o("el-form-item",{attrs:{label:"起始时间"}},[o("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},model:{value:t.filterForm.startTime,callback:function(e){t.$set(t.filterForm,"startTime",e)},expression:"filterForm.startTime"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"结束时间"}},[o("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},model:{value:t.filterForm.endTime,callback:function(e){t.$set(t.filterForm,"endTime",e)},expression:"filterForm.endTime"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"btn-form",attrs:{type:"primary"},on:{click:t.query}},[t._v("查询")])],1)],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[o("el-table-column",{attrs:{align:"center",label:"订单信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        订单编号："+t._s(e.row.id)),o("br"),t._v("\n        创建于 "+t._s(e.row.createTime)+"\n      ")]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"玩家信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        原始ID："+t._s(e.row.userid)),o("br"),t._v("\n        玩家ID："),o("label",[t._v(t._s(e.row.showId))]),o("br"),t._v("\n        玩家昵称："+t._s(e.row.nickname)+"\n      ")]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"right",label:"提现信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-row",[o("el-col",{attrs:{span:12}},[t._v("提现金额：")]),t._v(" "),o("el-col",{attrs:{span:12}},[t._v(t._s(t._f("moneyFilter")(e.row.amount)))])],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[t._v("手续费：")]),t._v(" "),o("el-col",{attrs:{span:12}},[t._v(t._s(t._f("moneyFilter")(e.row.tax)))])],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[t._v("实际提现：")]),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:(e.row.amount-e.row.tax)/100,expression:"(scope.row.amount- scope.row.tax) / 100",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"text",size:"mini"}},[o("svg-icon",{staticStyle:{width:"16px",height:"16px"},attrs:{"icon-class":"copy"}})],1),o("span",{staticStyle:{"font-weight":"bold",color:"red","font-size":"16px"}},[t._v(t._s(t._f("moneyFilter")(e.row.amount-e.row.tax)))])],1)],1)]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"left",label:"提现信息","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        提现类型："+t._s(t._f("withdrawTypeTitle")(e.row.type))),o("br"),t._v(" "),2===e.row.type?[t._v("提现银行："),o("span",{staticStyle:{color:"red","font-weight":"bold","font-size":"16px"}},[t._v(t._s(e.row.bank))]),o("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.row.bank,expression:"scope.row.bank",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"text",size:"mini"}},[o("svg-icon",{staticStyle:{width:"16px",height:"16px"},attrs:{"icon-class":"copy"}})],1),o("br")]:t._e(),t._v("\n        提现账户："),o("span",{staticStyle:{color:"red","font-weight":"bold","font-size":"16px"}},[t._v(t._s(e.row.account))]),t._v(" "),o("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.row.account,expression:"scope.row.account",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"text",size:"mini"}},[o("svg-icon",{staticStyle:{width:"16px",height:"16px"},attrs:{"icon-class":"copy"}})],1),o("br"),t._v("\n        提现名称："),o("span",{staticStyle:{"font-weight":"bold","font-size":"16px"}},[t._v(t._s(e.row.realname))]),t._v(" "),o("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.row.realName,expression:"scope.row.realName",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"text",size:"mini"}},[o("svg-icon",{staticStyle:{width:"16px",height:"16px"},attrs:{"icon-class":"copy"}})],1),o("br"),t._v(" "),e.row.completetime?o("span",[t._v("完成时间："+t._s(e.row.completetime))]):t._e()]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"订单状态",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tag",{attrs:{type:t._f("withdrawStateColor")(e.row.state)}},[t._v(t._s(t._f("withdrawStateTitle")(e.row.state)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.note))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.state?o("el-button",{attrs:{icon:"el-icon-check",type:"text",size:"mini"},on:{click:function(o){t.modify(e.row,1)}}},[t._v("受理")]):t._e(),t._v(" "),1===e.row.state?o("el-button",{attrs:{icon:"el-icon-check",type:"text",size:"mini"},on:{click:function(o){t.modify(e.row,2)}}},[t._v("发放")]):t._e(),t._v(" "),0===e.row.state||1===e.row.state?o("el-button",{staticStyle:{color:"red"},attrs:{icon:"el-icon-close",type:"text",size:"mini"},on:{click:function(o){t.modify(e.row,3)}}},[t._v("取消")]):t._e()]}}])})],1),t._v(" "),o("div",{staticClass:"pagination-container"},[o("el-pagination",{attrs:{"current-page":t.filterForm.pageNo,"page-sizes":[10,20,30,50],"page-size":t.filterForm.pageSize,total:t.listTotal,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.$set(t.filterForm,"pageNo",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},[],!1,null,"7c8fe79a",null);s.options.__file="index.vue";e.default=s.exports},KVkK:function(t,e,o){},SHdH:function(t,e,o){"use strict";var r=o("KVkK");o.n(r).a}}]);